(function(){"use strict";var e={2073:function(e,a,l){var t=l(5130),n=l(1387),o=l(6768);function i(e,a){const l=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(l)}var s=l(1241);const r={},u=(0,s.A)(r,[["render",i]]);var m=u,p=l(4232),c=l(4373),v=l(144);const d={class:"container"},y={class:"styled-table"},f=["onClick"],k="http://localhost:8080";var h={__name:"EmployeeList",setup(e){const a=(0,v.KR)([]);(0,o.sV)((()=>{l()}));const l=()=>{c.A.get(`${k}/api/employees`).then((e=>{a.value=e.data}))},t=e=>{confirm("Are you sure you want to delete this employee?")&&c.A.delete(`${k}/api/employees/${e}`).then((()=>{l()}))};return(e,l)=>{const n=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",d,[l[3]||(l[3]=(0,o.Lk)("h1",{class:"title"},"Employee List",-1)),(0,o.Lk)("table",y,[l[1]||(l[1]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Employee"),(0,o.Lk)("th",null,"Actions")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.value,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id},[(0,o.Lk)("td",null,[(0,o.bF)(n,{to:{name:"employeePage",params:{id:e.id}}},{default:(0,o.k6)((()=>[(0,o.eW)((0,p.v_)(e.firstname+" "+e.lastname),1)])),_:2},1032,["to"])]),(0,o.Lk)("td",null,[(0,o.bF)(n,{to:{name:"editEmployee",params:{id:e.id}}},{default:(0,o.k6)((()=>l[0]||(l[0]=[(0,o.Lk)("button",{class:"edit-btn"},"Edit",-1)]))),_:2},1032,["to"]),(0,o.Lk)("button",{onClick:a=>t(e.id),class:"delete-btn"},"Delete",8,f)])])))),128))])]),(0,o.bF)(n,{to:{name:"addEmployee"}},{default:(0,o.k6)((()=>l[2]||(l[2]=[(0,o.Lk)("button",{class:"add-btn"},"Add Employee",-1)]))),_:1})])}}};const b=(0,s.A)(h,[["__scopeId","data-v-10ed3b2c"]]);var E=b;l(4114);const L={class:"form-container"},_={key:0,class:"error"},g={key:1,class:"error"},C={key:3,class:"error"},A={key:4,class:"error"},w="http://localhost:8080";var x={__name:"AddEmployeeForm",setup(e){const a=(0,n.rd)(),l=(0,v.KR)({firstname:"",lastname:"",email:"",position:"",salary:""}),i=(0,v.KR)({firstname:"",lastname:"",email:"",position:"",salary:"",emailExists:!1}),s=async()=>{if(l.value.email.trim()){console.log("checkEmailUnique");try{const e=await c.A.get(`${w}/api/employees/check-email?email=${l.value.email}`);i.value.emailExists=e.data,i.value.emailExists?i.value.email="This email is already taken":i.value.email=""}catch(e){console.error("Error checking email uniqueness",e)}}},r=()=>{let e=!0;l.value.firstname.trim()?i.value.firstname="":(i.value.firstname="First name is required",e=!1),l.value.lastname.trim()?i.value.lastname="":(i.value.lastname="Last name is required",e=!1);const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return l.value.email.trim()?a.test(l.value.email)?i.value.email="":(i.value.email="Invalid email format",e=!1):(i.value.email="Email is required",e=!1),l.value.position.trim()?i.value.position="":(i.value.position="Position is required",e=!1),isNaN(l.value.salary)||Number(l.value.salary)<=0?(i.value.salary="Salary must be a positive number",e=!1):i.value.salary="",e},u=async()=>{r()&&await c.A.post("http://localhost:8080/api/employees",l.value).then((e=>{console.log("ok",e.data),a.push("/")})).catch((()=>{}))};return(e,a)=>((0,o.uX)(),(0,o.CE)("div",L,[a[6]||(a[6]=(0,o.Lk)("h1",null,"Add Employee",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"Firstname","onUpdate:modelValue":a[0]||(a[0]=e=>l.value.firstname=e)},null,512),[[t.Jo,l.value.firstname]]),i.value.firstname?((0,o.uX)(),(0,o.CE)("span",_,(0,p.v_)(i.value.firstname),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"Lastname","onUpdate:modelValue":a[1]||(a[1]=e=>l.value.lastname=e)},null,512),[[t.Jo,l.value.lastname]]),i.value.lastname?((0,o.uX)(),(0,o.CE)("span",g,(0,p.v_)(i.value.lastname),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{type:"email",placeholder:"Email","onUpdate:modelValue":a[2]||(a[2]=e=>l.value.email=e)},null,512),[[t.Jo,l.value.email]]),i.value.email?((0,o.uX)(),(0,o.CE)("span",{key:2,class:"error",onBlur:a[3]||(a[3]=e=>s())},(0,p.v_)(i.value.email),33)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"Position","onUpdate:modelValue":a[4]||(a[4]=e=>l.value.position=e)},null,512),[[t.Jo,l.value.position]]),i.value.position?((0,o.uX)(),(0,o.CE)("span",C,(0,p.v_)(i.value.position),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{type:"number",step:"0.01",placeholder:"Salary","onUpdate:modelValue":a[5]||(a[5]=e=>l.value.salary=e)},null,512),[[t.Jo,l.value.salary]]),i.value.salary?((0,o.uX)(),(0,o.CE)("span",A,(0,p.v_)(i.value.salary),1)):(0,o.Q3)("",!0),(0,o.Lk)("button",{class:"submit-btn",onClick:u},"Add Employee")]))}};const X=(0,s.A)(x,[["__scopeId","data-v-671b4982"]]);var $=X;const F={class:"form-container"},O={key:0,class:"error"},V={key:1,class:"error"},q={key:3,class:"error"},P={key:4,class:"error"},U="http://localhost:8080";var S={__name:"EditEmployeeForm",props:["id"],setup(e){const a=(0,n.rd)(),l=e,i=(0,v.KR)({firstname:"",lastname:"",email:"",position:"",salary:""}),s=(0,v.KR)({firstname:"",lastname:"",email:"",position:"",salary:"",emailExists:!1}),r=async()=>{if(i.value.email.trim()){console.log("checkEmailUnique");try{const e=await c.A.get(`${U}/api/employees/check-email?email=${i.value.email}`);s.value.emailExists=e.data,s.value.emailExists?s.value.email="This email is already taken":s.value.email=""}catch(e){console.error("Error checking email uniqueness",e)}}},u=()=>{let e=!0;i.value.firstname.trim()?s.value.firstname="":(s.value.firstname="First name is required",e=!1),i.value.lastname.trim()?s.value.lastname="":(s.value.lastname="Last name is required",e=!1);const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return i.value.email.trim()?a.test(i.value.email)?s.value.email="":(s.value.email="Invalid email format",e=!1):(s.value.email="Email is required",e=!1),i.value.position.trim()?s.value.position="":(s.value.position="Position is required",e=!1),isNaN(i.value.salary)||Number(i.value.salary)<=0?(s.value.salary="Salary must be a positive number",e=!1):s.value.salary="",e},m=async()=>{u()&&await c.A.put(`${U}/api/employees/`+l.id,i.value).then((e=>{console.log("ok",e.data),a.push("/")})).catch((e=>y(e)))},d=async()=>{await c.A.get(`${U}/api/employees/`+l.id).then((e=>{i.value=e.data}))},y=e=>{console.log(e)};return(0,o.sV)(d),(e,a)=>((0,o.uX)(),(0,o.CE)("div",F,[a[6]||(a[6]=(0,o.Lk)("h1",null,"Edit Employee",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"Firstname","onUpdate:modelValue":a[0]||(a[0]=e=>i.value.firstname=e)},null,512),[[t.Jo,i.value.firstname]]),s.value.firstname?((0,o.uX)(),(0,o.CE)("span",O,(0,p.v_)(s.value.firstname),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"Lastname","onUpdate:modelValue":a[1]||(a[1]=e=>i.value.lastname=e)},null,512),[[t.Jo,i.value.lastname]]),s.value.lastname?((0,o.uX)(),(0,o.CE)("span",V,(0,p.v_)(s.value.lastname),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{type:"email",placeholder:"Email","onUpdate:modelValue":a[2]||(a[2]=e=>i.value.email=e)},null,512),[[t.Jo,i.value.email]]),s.value.email?((0,o.uX)(),(0,o.CE)("span",{key:2,class:"error",onBlur:a[3]||(a[3]=e=>r())},(0,p.v_)(s.value.email),33)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"Position","onUpdate:modelValue":a[4]||(a[4]=e=>i.value.position=e)},null,512),[[t.Jo,i.value.position]]),s.value.position?((0,o.uX)(),(0,o.CE)("span",q,(0,p.v_)(s.value.position),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{type:"number",step:"0.01",placeholder:"Salary","onUpdate:modelValue":a[5]||(a[5]=e=>i.value.salary=e)},null,512),[[t.Jo,i.value.salary]]),s.value.salary?((0,o.uX)(),(0,o.CE)("span",P,(0,p.v_)(s.value.salary),1)):(0,o.Q3)("",!0),(0,o.Lk)("button",{class:"submit-btn",onClick:m},"Save Changes")]))}};const J=(0,s.A)(S,[["__scopeId","data-v-3e7be3ac"]]);var Q=J;const j={class:"employee-details"},N={class:"action-buttons"},I="http://localhost:8080";var K={__name:"EmployeePage",props:["id"],setup(e){const a=e,l=(0,n.rd)(),t=(0,v.KR)({firstname:"",lastname:"",email:"",position:"",salary:0}),i=async()=>{await c.A.get(`${I}/api/employees/${a.id}`).then((e=>{t.value=e.data})).catch((e=>console.error("Error fetching employee details",e)))},s=async()=>{confirm("Are you sure you want to delete this employee?")&&await c.A.delete(`${I}/api/employees/${a.id}`).then((()=>{l.push("/")})).catch((e=>console.error("Error deleting employee",e)))};return(0,o.sV)(i),(e,a)=>{const l=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",null,[a[7]||(a[7]=(0,o.Lk)("h1",null,"Employee Details",-1)),(0,o.Lk)("div",j,[(0,o.Lk)("p",null,[a[0]||(a[0]=(0,o.Lk)("strong",null,"First Name:",-1)),(0,o.eW)(" "+(0,p.v_)(t.value.firstname),1)]),(0,o.Lk)("p",null,[a[1]||(a[1]=(0,o.Lk)("strong",null,"Last Name:",-1)),(0,o.eW)(" "+(0,p.v_)(t.value.lastname),1)]),(0,o.Lk)("p",null,[a[2]||(a[2]=(0,o.Lk)("strong",null,"Email:",-1)),(0,o.eW)(" "+(0,p.v_)(t.value.email),1)]),(0,o.Lk)("p",null,[a[3]||(a[3]=(0,o.Lk)("strong",null,"Position:",-1)),(0,o.eW)(" "+(0,p.v_)(t.value.position),1)]),(0,o.Lk)("p",null,[a[4]||(a[4]=(0,o.Lk)("strong",null,"Salary:",-1)),(0,o.eW)(" $"+(0,p.v_)(t.value.salary),1)])]),(0,o.Lk)("div",N,[(0,o.bF)(l,{to:{name:"editEmployee",params:{id:t.value.id}}},{default:(0,o.k6)((()=>a[5]||(a[5]=[(0,o.Lk)("button",{class:"edit-btn"},"Edit",-1)]))),_:1},8,["to"]),(0,o.Lk)("button",{onClick:s,class:"delete-btn"},"Delete"),(0,o.bF)(l,{to:{name:"employeeList"}},{default:(0,o.k6)((()=>a[6]||(a[6]=[(0,o.Lk)("button",null,"Back to List",-1)]))),_:1})])])}}};const W=(0,s.A)(K,[["__scopeId","data-v-ca478c00"]]);var R=W;const T=[{path:"/",name:"employeeList",component:E},{path:"/add",name:"addEmployee",component:$},{path:"/edit/:id",name:"editEmployee",component:Q,props:!0},{path:"/employee/:id",name:"employeePage",component:R,props:!0},{path:"/:pathMatch(.*)*",redirect:"/"}],M=(0,n.aE)({history:(0,n.LA)(),routes:T});(0,t.Ef)(m).use(M).mount("#app")}},a={};function l(t){var n=a[t];if(void 0!==n)return n.exports;var o=a[t]={exports:{}};return e[t].call(o.exports,o,o.exports,l),o.exports}l.m=e,function(){var e=[];l.O=function(a,t,n,o){if(!t){var i=1/0;for(m=0;m<e.length;m++){t=e[m][0],n=e[m][1],o=e[m][2];for(var s=!0,r=0;r<t.length;r++)(!1&o||i>=o)&&Object.keys(l.O).every((function(e){return l.O[e](t[r])}))?t.splice(r--,1):(s=!1,o<i&&(i=o));if(s){e.splice(m--,1);var u=n();void 0!==u&&(a=u)}}return a}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[t,n,o]}}(),function(){l.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(a,{a:a}),a}}(),function(){l.d=function(e,a){for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};l.O.j=function(a){return 0===e[a]};var a=function(a,t){var n,o,i=t[0],s=t[1],r=t[2],u=0;if(i.some((function(a){return 0!==e[a]}))){for(n in s)l.o(s,n)&&(l.m[n]=s[n]);if(r)var m=r(l)}for(a&&a(t);u<i.length;u++)o=i[u],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(m)},t=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=l.O(void 0,[504],(function(){return l(2073)}));t=l.O(t)})();
//# sourceMappingURL=app.60fdc98c.js.map